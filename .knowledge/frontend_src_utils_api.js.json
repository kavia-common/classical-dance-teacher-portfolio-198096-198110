{"is_source_file": true, "format": "JavaScript", "description": "This file provides utility functions for frontend-backend communication, handling API requests, headers, admin token management, and user notifications via toasts and confirmation prompts.", "external_files": ["fetch API (built-in)"], "external_methods": ["window.dispatchEvent", "window.confirm"], "published": ["getAdminToken", "setAdminToken", "buildHeaders", "showToast", "confirmAction", "apiRequest", "apiFetch"], "classes": [], "methods": [{"name": "getAdminToken()", "description": "Returns an empty string as admin features are disabled.", "scope": "", "scopeKind": ""}, {"name": "setAdminToken(token)", "description": "No operation; ignores token setting because admin features are disabled.", "scope": "", "scopeKind": ""}, {"name": "buildHeaders(extra = {}, includeJson = true, withAuth = false)", "description": "Constructs HTTP headers with optional JSON headers and extra headers; admin authentication is ignored.", "scope": "", "scopeKind": ""}, {"name": "showToast(message, type = 'info')", "description": "Dispatches a toast event to show notifications with specified message and type.", "scope": "", "scopeKind": ""}, {"name": "confirmAction(message = 'Are you sure?')", "description": "Asynchronously wraps window.confirm to enable future UI customization.", "scope": "", "scopeKind": ""}, {"name": "apiRequest(path, { method = 'GET', headers = {}, body } = {})", "description": "Performs an API request with flexible method, headers, body, and optional admin authentication, parsing JSON responses, and handling errors.", "scope": "", "scopeKind": ""}, {"name": "apiFetch(path, options = {})", "description": "Alias for apiRequest, potentially for future base URL normalization.", "scope": "", "scopeKind": ""}], "calls": ["window.dispatchEvent", "window.confirm", "fetch"], "search-terms": ["apiRequest", "adminToken", "buildHeaders", "showToast", "confirmAction", "API utility functions", "JavaScript API fetch wrapper"], "state": 2, "file_id": 1168, "knowledge_revision": 2505, "git_revision": "e5a319fe7dff857fd46d69cf038d1d8508f56bb2", "revision_history": [{"2394": ""}, {"2412": "213c8e175856d29f78f50fc8e3a4278d72f3c404"}, {"2459": "1d03b97065cafdb66b44a56fa1c56561b4534d17"}, {"2460": "e22b142fa8cc891e0d0485b6b0ad165d2f9c7b2b"}, {"2461": "1aeee9b0d6561595d44bcf819c5a90a74ac450bf"}, {"2466": "c3b8d947393fb4aa89bcbdc4c5e59031c4a8e235"}, {"2505": "e5a319fe7dff857fd46d69cf038d1d8508f56bb2"}], "ctags": [{"_type": "tag", "name": "Accept", "path": "/home/kavia/workspace/code-generation/classical-dance-teacher-portfolio-198096-198110/frontend/src/utils/api.js", "pattern": "/^    Accept: 'application\\/json',$/", "language": "JavaScript", "kind": "property", "scope": "apiRequest.baseHeaders", "scopeKind": "class"}, {"_type": "tag", "name": "apiFetch", "path": "/home/kavia/workspace/code-generation/classical-dance-teacher-portfolio-198096-198110/frontend/src/utils/api.js", "pattern": "/^export async function apiFetch(path, options = {}) {$/", "language": "JavaScript", "kind": "function", "signature": "(path, options = {})"}, {"_type": "tag", "name": "apiRequest", "path": "/home/kavia/workspace/code-generation/classical-dance-teacher-portfolio-198096-198110/frontend/src/utils/api.js", "pattern": "/^export async function apiRequest(path, { method = 'GET', headers = {}, body } = {}) {$/", "language": "JavaScript", "kind": "function", "signature": "(path, { method = 'GET', headers = {}, body } = {})"}, {"_type": "tag", "name": "baseHeaders", "path": "/home/kavia/workspace/code-generation/classical-dance-teacher-portfolio-198096-198110/frontend/src/utils/api.js", "pattern": "/^  const baseHeaders = {$/", "language": "JavaScript", "kind": "class", "scope": "apiRequest", "scopeKind": "class"}, {"_type": "tag", "name": "buildHeaders", "path": "/home/kavia/workspace/code-generation/classical-dance-teacher-portfolio-198096-198110/frontend/src/utils/api.js", "pattern": "/^export function buildHeaders(extra = {}, includeJson = true, withAuth = false) {$/", "language": "JavaScript", "kind": "function", "signature": "(extra = {}, includeJson = true, withAuth = false)"}, {"_type": "tag", "name": "confirmAction", "path": "/home/kavia/workspace/code-generation/classical-dance-teacher-portfolio-198096-198110/frontend/src/utils/api.js", "pattern": "/^export async function confirmAction(message = 'Are you sure?') {$/", "language": "JavaScript", "kind": "function", "signature": "(message = 'Are you sure?')"}, {"_type": "tag", "name": "getAdminToken", "path": "/home/kavia/workspace/code-generation/classical-dance-teacher-portfolio-198096-198110/frontend/src/utils/api.js", "pattern": "/^export function getAdminToken() {$/", "language": "JavaScript", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "setAdminToken", "path": "/home/kavia/workspace/code-generation/classical-dance-teacher-portfolio-198096-198110/frontend/src/utils/api.js", "pattern": "/^export function setAdminToken(token) {$/", "language": "JavaScript", "kind": "function", "signature": "(token)"}, {"_type": "tag", "name": "showToast", "path": "/home/kavia/workspace/code-generation/classical-dance-teacher-portfolio-198096-198110/frontend/src/utils/api.js", "pattern": "/^export function showToast(message, type = 'info') {$/", "language": "JavaScript", "kind": "function", "signature": "(message, type = 'info')"}], "hash": "d4917c44afebeb04211913957444a1a9", "format-version": 4, "code-base-name": "frontend", "filename": "frontend/src/utils/api.js", "fields": [{"name": "Accept: 'application\\/json',", "scope": "apiRequest.baseHeaders", "scopeKind": "class", "description": "unavailable"}]}