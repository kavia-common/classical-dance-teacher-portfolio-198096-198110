{"is_source_file": true, "format": "JavaScript", "description": "This file provides utility functions for interacting with a backend API, managing admin tokens, building request headers, and displaying user notifications via toasts and confirmation prompts. It is part of a frontend React/JavaScript project and handles API communication and UI feedback.", "external_files": ["window", "fetch"], "external_methods": ["window.dispatchEvent", "window.confirm", "fetch"], "published": ["getAdminToken", "setAdminToken", "buildHeaders", "showToast", "confirmAction", "apiRequest", "apiFetch"], "classes": [], "methods": [{"name": "getAdminToken()", "description": "Returns an empty string, as admin token functionality is disabled in this version.", "scope": "", "scopeKind": ""}, {"name": "setAdminToken(token)", "description": "A no-op function that ignores token setting because admin features are disabled.", "scope": "", "scopeKind": ""}, {"name": "buildHeaders(extra = {}, includeJson = true, withAuth = false)", "description": "Constructs HTTP headers, including JSON content-type headers and any extra headers provided. Admin authentication is intentionally ignored.", "scope": "", "scopeKind": ""}, {"name": "showToast(message, type = 'info')", "description": "Dispatches a custom event to show a toast message in the UI, with specified message and type.", "scope": "", "scopeKind": ""}, {"name": "confirmAction(message = 'Are you sure?')", "description": "Asynchronously prompts the user for confirmation using window.confirm, wrapped for potential future custom UI.", "scope": "", "scopeKind": ""}, {"name": "apiRequest(path, { method = 'GET', headers = {}, body } = {})", "description": "Performs an HTTP request to the backend API with specified method, headers, and body. It manages JSON parsing and error handling.", "scope": "", "scopeKind": ""}, {"name": "apiFetch(path, options = {})", "description": "A simple alias for apiRequest intended for future base URL normalization or additional processing.", "scope": "", "scopeKind": ""}], "calls": ["window.dispatchEvent", "window.confirm", "fetch"], "search-terms": ["api.js", "fetch wrapper", "admin token", "toast", "headers", "confirm", "apiRequest", "apiFetch"], "state": 2, "file_id": 1168, "knowledge_revision": 2506, "git_revision": "0c9ed90031f8d63061a60b6c8310ba80be6e8a00", "revision_history": [{"2394": ""}, {"2412": "213c8e175856d29f78f50fc8e3a4278d72f3c404"}, {"2459": "1d03b97065cafdb66b44a56fa1c56561b4534d17"}, {"2460": "e22b142fa8cc891e0d0485b6b0ad165d2f9c7b2b"}, {"2461": "1aeee9b0d6561595d44bcf819c5a90a74ac450bf"}, {"2466": "c3b8d947393fb4aa89bcbdc4c5e59031c4a8e235"}, {"2505": "e5a319fe7dff857fd46d69cf038d1d8508f56bb2"}, {"2506": "0c9ed90031f8d63061a60b6c8310ba80be6e8a00"}], "ctags": [{"_type": "tag", "name": "Accept", "path": "/home/kavia/workspace/code-generation/classical-dance-teacher-portfolio-198096-198110/frontend/src/utils/api.js", "pattern": "/^    Accept: 'application\\/json',$/", "language": "JavaScript", "kind": "property", "scope": "apiRequest.baseHeaders", "scopeKind": "class"}, {"_type": "tag", "name": "apiFetch", "path": "/home/kavia/workspace/code-generation/classical-dance-teacher-portfolio-198096-198110/frontend/src/utils/api.js", "pattern": "/^export async function apiFetch(path, options = {}) {$/", "language": "JavaScript", "kind": "function", "signature": "(path, options = {})"}, {"_type": "tag", "name": "apiRequest", "path": "/home/kavia/workspace/code-generation/classical-dance-teacher-portfolio-198096-198110/frontend/src/utils/api.js", "pattern": "/^export async function apiRequest(path, { method = 'GET', headers = {}, body } = {}) {$/", "language": "JavaScript", "kind": "function", "signature": "(path, { method = 'GET', headers = {}, body } = {})"}, {"_type": "tag", "name": "baseHeaders", "path": "/home/kavia/workspace/code-generation/classical-dance-teacher-portfolio-198096-198110/frontend/src/utils/api.js", "pattern": "/^  const baseHeaders = {$/", "language": "JavaScript", "kind": "class", "scope": "apiRequest", "scopeKind": "class"}, {"_type": "tag", "name": "buildHeaders", "path": "/home/kavia/workspace/code-generation/classical-dance-teacher-portfolio-198096-198110/frontend/src/utils/api.js", "pattern": "/^export function buildHeaders(extra = {}, includeJson = true, withAuth = false) {$/", "language": "JavaScript", "kind": "function", "signature": "(extra = {}, includeJson = true, withAuth = false)"}, {"_type": "tag", "name": "confirmAction", "path": "/home/kavia/workspace/code-generation/classical-dance-teacher-portfolio-198096-198110/frontend/src/utils/api.js", "pattern": "/^export async function confirmAction(message = 'Are you sure?') {$/", "language": "JavaScript", "kind": "function", "signature": "(message = 'Are you sure?')"}, {"_type": "tag", "name": "getAdminToken", "path": "/home/kavia/workspace/code-generation/classical-dance-teacher-portfolio-198096-198110/frontend/src/utils/api.js", "pattern": "/^export function getAdminToken() {$/", "language": "JavaScript", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "setAdminToken", "path": "/home/kavia/workspace/code-generation/classical-dance-teacher-portfolio-198096-198110/frontend/src/utils/api.js", "pattern": "/^export function setAdminToken(token) {$/", "language": "JavaScript", "kind": "function", "signature": "(token)"}, {"_type": "tag", "name": "showToast", "path": "/home/kavia/workspace/code-generation/classical-dance-teacher-portfolio-198096-198110/frontend/src/utils/api.js", "pattern": "/^export function showToast(message, type = 'info') {$/", "language": "JavaScript", "kind": "function", "signature": "(message, type = 'info')"}], "hash": "d4917c44afebeb04211913957444a1a9", "format-version": 4, "code-base-name": "frontend", "filename": "frontend/src/utils/api.js", "fields": [{"name": "Accept: 'application\\/json',", "scope": "apiRequest.baseHeaders", "scopeKind": "class", "description": "unavailable"}]}