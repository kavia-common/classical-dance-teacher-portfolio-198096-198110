{"is_source_file": true, "format": "JavaScript (React JSX)", "description": "This file defines a React functional component named BookingForm, which provides a public booking/contact form with client-side validation, accessibility features, and submission logic that posts data to an API endpoint /api/bookings. It uses React hooks for state management and references an external utility apiFetch for making API calls.", "external_files": ["../utils/api"], "external_methods": ["apiFetch"], "published": [], "classes": [], "methods": [{"name": "BookingForm({ defaultValues = {}, selectedOption = null })", "description": "React functional component that renders the booking form, manages form state, validation, and handles submission.", "scope": "", "scopeKind": ""}, {"name": "validate", "description": "Validates required fields and formats before submission."}, {"name": "submitBooking", "description": "Builds the payload and sends the POST request to /api/bookings via apiFetch, returns true on success."}, {"name": "onChange", "description": "Handles input change events, updating form state."}, {"name": "onSubmit", "description": "Handles form submission, runs validation, calls submitBooking, and manages UI state based on success or failure."}], "calls": ["apiFetch('/bookings', { method: 'POST', headers: { 'Content-Type': 'application/json' }, body: JSON.stringify(payload) })"], "search-terms": ["BookingForm", "public booking/contact form", "submitBooking", "apiFetch", "/api/bookings", "validation", "accessibility", "honeypot"], "state": 2, "file_id": 1175, "knowledge_revision": 2455, "git_revision": "7e4bb3e622fa00150ac652f32097b35005121188", "revision_history": [{"2411": ""}, {"2436": "1d03b97065cafdb66b44a56fa1c56561b4534d17"}, {"2453": "ec13b58adec66ecbb3bda552f57d04652df6e968"}, {"2454": "ec13b58adec66ecbb3bda552f57d04652df6e968"}, {"2455": "7e4bb3e622fa00150ac652f32097b35005121188"}], "ctags": [{"_type": "tag", "name": "4", "path": "/home/kavia/workspace/code-generation/classical-dance-teacher-portfolio-198096-198110/frontend/src/components/BookingForm.jsx", "pattern": "/^          rows={4}$/", "language": "JavaScript", "kind": "field", "scope": "required", "scopeKind": "class"}, {"_type": "tag", "name": "BookingForm", "path": "/home/kavia/workspace/code-generation/classical-dance-teacher-portfolio-198096-198110/frontend/src/components/BookingForm.jsx", "pattern": "/^export default function BookingForm({ defaultValues = {}, selectedOption = null }) {$/", "language": "JavaScript", "kind": "function", "signature": "({ defaultValues = {}, selectedOption = null })"}, {"_type": "tag", "name": "background", "path": "/home/kavia/workspace/code-generation/classical-dance-teacher-portfolio-198096-198110/frontend/src/components/BookingForm.jsx", "pattern": "/^  background: 'var(--surface)',$/", "language": "JavaScript", "kind": "property", "scope": "inputStyle", "scopeKind": "class"}, {"_type": "tag", "name": "border", "path": "/home/kavia/workspace/code-generation/classical-dance-teacher-portfolio-198096-198110/frontend/src/components/BookingForm.jsx", "pattern": "/^  border: '1px solid var(--border)',$/", "language": "JavaScript", "kind": "property", "scope": "inputStyle", "scopeKind": "class"}, {"_type": "tag", "name": "borderRadius", "path": "/home/kavia/workspace/code-generation/classical-dance-teacher-portfolio-198096-198110/frontend/src/components/BookingForm.jsx", "pattern": "/^  borderRadius: 8,$/", "language": "JavaScript", "kind": "property", "scope": "inputStyle", "scopeKind": "class"}, {"_type": "tag", "name": "color", "path": "/home/kavia/workspace/code-generation/classical-dance-teacher-portfolio-198096-198110/frontend/src/components/BookingForm.jsx", "pattern": "/^  color: 'var(--error)',$/", "language": "JavaScript", "kind": "property", "scope": "errorStyle", "scopeKind": "class"}, {"_type": "tag", "name": "color", "path": "/home/kavia/workspace/code-generation/classical-dance-teacher-portfolio-198096-198110/frontend/src/components/BookingForm.jsx", "pattern": "/^  color: 'var(--text)',$/", "language": "JavaScript", "kind": "property", "scope": "inputStyle", "scopeKind": "class"}, {"_type": "tag", "name": "day", "path": "/home/kavia/workspace/code-generation/classical-dance-teacher-portfolio-198096-198110/frontend/src/components/BookingForm.jsx", "pattern": "/^            day: selectedOption.day,$/", "language": "JavaScript", "kind": "property", "scope": "BookingForm.payload.selectedOption", "scopeKind": "class"}, {"_type": "tag", "name": "disabled", "path": "/home/kavia/workspace/code-generation/classical-dance-teacher-portfolio-198096-198110/frontend/src/components/BookingForm.jsx", "pattern": "/^          disabled={status === 'submitting'}$/", "language": "JavaScript", "kind": "class"}, {"_type": "tag", "name": "duration", "path": "/home/kavia/workspace/code-generation/classical-dance-teacher-portfolio-198096-198110/frontend/src/components/BookingForm.jsx", "pattern": "/^            duration: selectedOption.duration,$/", "language": "JavaScript", "kind": "property", "scope": "BookingForm.payload.selectedOption", "scopeKind": "class"}, {"_type": "tag", "name": "email", "path": "/home/kavia/workspace/code-generation/classical-dance-teacher-portfolio-198096-198110/frontend/src/components/BookingForm.jsx", "pattern": "/^      email: form.email.trim(),$/", "language": "JavaScript", "kind": "property", "scope": "BookingForm.payload", "scopeKind": "class"}, {"_type": "tag", "name": "errorStyle", "path": "/home/kavia/workspace/code-generation/classical-dance-teacher-portfolio-198096-198110/frontend/src/components/BookingForm.jsx", "pattern": "/^const errorStyle = {$/", "language": "JavaScript", "kind": "class"}, {"_type": "tag", "name": "errors", "path": "/home/kavia/workspace/code-generation/classical-dance-teacher-portfolio-198096-198110/frontend/src/components/BookingForm.jsx", "pattern": "/^          aria-describedby={errors.email ? 'bf-email-err' : undefined}$/", "language": "JavaScript", "kind": "field", "scope": "aria", "scopeKind": "class"}, {"_type": "tag", "name": "errors", "path": "/home/kavia/workspace/code-generation/classical-dance-teacher-portfolio-198096-198110/frontend/src/components/BookingForm.jsx", "pattern": "/^          aria-describedby={errors.message ? 'bf-message-err' : undefined}$/", "language": "JavaScript", "kind": "field", "scope": "aria", "scopeKind": "class"}, {"_type": "tag", "name": "errors", "path": "/home/kavia/workspace/code-generation/classical-dance-teacher-portfolio-198096-198110/frontend/src/components/BookingForm.jsx", "pattern": "/^          aria-describedby={errors.name ? 'bf-name-err' : undefined}$/", "language": "JavaScript", "kind": "field", "scope": "aria", "scopeKind": "class"}, {"_type": "tag", "name": "errors", "path": "/home/kavia/workspace/code-generation/classical-dance-teacher-portfolio-198096-198110/frontend/src/components/BookingForm.jsx", "pattern": "/^          aria-describedby={errors.phone ? 'bf-phone-err' : undefined}$/", "language": "JavaScript", "kind": "field", "scope": "aria", "scopeKind": "class"}, {"_type": "tag", "name": "errors", "path": "/home/kavia/workspace/code-generation/classical-dance-teacher-portfolio-198096-198110/frontend/src/components/BookingForm.jsx", "pattern": "/^          aria-describedby={errors.preferredDate ? 'bf-date-err' : undefined}$/", "language": "JavaScript", "kind": "field", "scope": "aria", "scopeKind": "class"}, {"_type": "tag", "name": "fontSize", "path": "/home/kavia/workspace/code-generation/classical-dance-teacher-portfolio-198096-198110/frontend/src/components/BookingForm.jsx", "pattern": "/^  fontSize: '0.9rem',$/", "language": "JavaScript", "kind": "property", "scope": "errorStyle", "scopeKind": "class"}, {"_type": "tag", "name": "form", "path": "/home/kavia/workspace/code-generation/classical-dance-teacher-portfolio-198096-198110/frontend/src/components/BookingForm.jsx", "pattern": "/^          value={form.company}$/", "language": "JavaScript", "kind": "field", "scope": "value", "scopeKind": "class"}, {"_type": "tag", "name": "form", "path": "/home/kavia/workspace/code-generation/classical-dance-teacher-portfolio-198096-198110/frontend/src/components/BookingForm.jsx", "pattern": "/^          value={form.email}$/", "language": "JavaScript", "kind": "field", "scope": "value", "scopeKind": "class"}, {"_type": "tag", "name": "form", "path": "/home/kavia/workspace/code-generation/classical-dance-teacher-portfolio-198096-198110/frontend/src/components/BookingForm.jsx", "pattern": "/^          value={form.message}$/", "language": "JavaScript", "kind": "field", "scope": "value", "scopeKind": "class"}, {"_type": "tag", "name": "form", "path": "/home/kavia/workspace/code-generation/classical-dance-teacher-portfolio-198096-198110/frontend/src/components/BookingForm.jsx", "pattern": "/^          value={form.name}$/", "language": "JavaScript", "kind": "field", "scope": "value", "scopeKind": "class"}, {"_type": "tag", "name": "form", "path": "/home/kavia/workspace/code-generation/classical-dance-teacher-portfolio-198096-198110/frontend/src/components/BookingForm.jsx", "pattern": "/^          value={form.phone}$/", "language": "JavaScript", "kind": "field", "scope": "value", "scopeKind": "class"}, {"_type": "tag", "name": "form", "path": "/home/kavia/workspace/code-generation/classical-dance-teacher-portfolio-198096-198110/frontend/src/components/BookingForm.jsx", "pattern": "/^          value={form.preferredDate}$/", "language": "JavaScript", "kind": "field", "scope": "value", "scopeKind": "class"}, {"_type": "tag", "name": "id", "path": "/home/kavia/workspace/code-generation/classical-dance-teacher-portfolio-198096-198110/frontend/src/components/BookingForm.jsx", "pattern": "/^            id: selectedOption.id,$/", "language": "JavaScript", "kind": "property", "scope": "BookingForm.payload.selectedOption", "scopeKind": "class"}, {"_type": "tag", "name": "inputStyle", "path": "/home/kavia/workspace/code-generation/classical-dance-teacher-portfolio-198096-198110/frontend/src/components/BookingForm.jsx", "pattern": "/^          style={inputStyle}$/", "language": "JavaScript", "kind": "field", "scope": "required", "scopeKind": "class"}, {"_type": "tag", "name": "inputStyle", "path": "/home/kavia/workspace/code-generation/classical-dance-teacher-portfolio-198096-198110/frontend/src/components/BookingForm.jsx", "pattern": "/^const inputStyle = {$/", "language": "JavaScript", "kind": "class"}, {"_type": "tag", "name": "instructor", "path": "/home/kavia/workspace/code-generation/classical-dance-teacher-portfolio-198096-198110/frontend/src/components/BookingForm.jsx", "pattern": "/^            instructor: selectedOption.instructor,$/", "language": "JavaScript", "kind": "property", "scope": "BookingForm.payload.selectedOption", "scopeKind": "class"}, {"_type": "tag", "name": "level", "path": "/home/kavia/workspace/code-generation/classical-dance-teacher-portfolio-198096-198110/frontend/src/components/BookingForm.jsx", "pattern": "/^            level: selectedOption.level,$/", "language": "JavaScript", "kind": "property", "scope": "BookingForm.payload.selectedOption", "scopeKind": "class"}, {"_type": "tag", "name": "location", "path": "/home/kavia/workspace/code-generation/classical-dance-teacher-portfolio-198096-198110/frontend/src/components/BookingForm.jsx", "pattern": "/^            location: selectedOption.location,$/", "language": "JavaScript", "kind": "property", "scope": "BookingForm.payload.selectedOption", "scopeKind": "class"}, {"_type": "tag", "name": "message", "path": "/home/kavia/workspace/code-generation/classical-dance-teacher-portfolio-198096-198110/frontend/src/components/BookingForm.jsx", "pattern": "/^      message: form.message.trim(),$/", "language": "JavaScript", "kind": "property", "scope": "BookingForm.payload", "scopeKind": "class"}, {"_type": "tag", "name": "mode", "path": "/home/kavia/workspace/code-generation/classical-dance-teacher-portfolio-198096-198110/frontend/src/components/BookingForm.jsx", "pattern": "/^            mode: selectedOption.mode,$/", "language": "JavaScript", "kind": "property", "scope": "BookingForm.payload.selectedOption", "scopeKind": "class"}, {"_type": "tag", "name": "name", "path": "/home/kavia/workspace/code-generation/classical-dance-teacher-portfolio-198096-198110/frontend/src/components/BookingForm.jsx", "pattern": "/^      name: form.name.trim(),$/", "language": "JavaScript", "kind": "property", "scope": "BookingForm.payload", "scopeKind": "class"}, {"_type": "tag", "name": "onChange", "path": "/home/kavia/workspace/code-generation/classical-dance-teacher-portfolio-198096-198110/frontend/src/components/BookingForm.jsx", "pattern": "/^          onChange={onChange}$/", "language": "JavaScript", "kind": "field", "scope": "onChange", "scopeKind": "class"}, {"_type": "tag", "name": "onSubmit", "path": "/home/kavia/workspace/code-generation/classical-dance-teacher-portfolio-198096-198110/frontend/src/components/BookingForm.jsx", "pattern": "/^      onSubmit={onSubmit}$/", "language": "JavaScript", "kind": "field", "scope": "BookingForm.onSubmit", "scopeKind": "class"}, {"_type": "tag", "name": "outlineColor", "path": "/home/kavia/workspace/code-generation/classical-dance-teacher-portfolio-198096-198110/frontend/src/components/BookingForm.jsx", "pattern": "/^  outlineColor: 'var(--primary)',$/", "language": "JavaScript", "kind": "property", "scope": "inputStyle", "scopeKind": "class"}, {"_type": "tag", "name": "padding", "path": "/home/kavia/workspace/code-generation/classical-dance-teacher-portfolio-198096-198110/frontend/src/components/BookingForm.jsx", "pattern": "/^  padding: '0.55rem 0.75rem',$/", "language": "JavaScript", "kind": "property", "scope": "inputStyle", "scopeKind": "class"}, {"_type": "tag", "name": "payload", "path": "/home/kavia/workspace/code-generation/classical-dance-teacher-portfolio-198096-198110/frontend/src/components/BookingForm.jsx", "pattern": "/^    const payload = {$/", "language": "JavaScript", "kind": "class", "scope": "BookingForm", "scopeKind": "class"}, {"_type": "tag", "name": "phone", "path": "/home/kavia/workspace/code-generation/classical-dance-teacher-portfolio-198096-198110/frontend/src/components/BookingForm.jsx", "pattern": "/^      phone: form.phone.trim(),$/", "language": "JavaScript", "kind": "property", "scope": "BookingForm.payload", "scopeKind": "class"}, {"_type": "tag", "name": "preferredDate", "path": "/home/kavia/workspace/code-generation/classical-dance-teacher-portfolio-198096-198110/frontend/src/components/BookingForm.jsx", "pattern": "/^      preferredDate: form.preferredDate,$/", "language": "JavaScript", "kind": "property", "scope": "BookingForm.payload", "scopeKind": "class"}, {"_type": "tag", "name": "selectedOption", "path": "/home/kavia/workspace/code-generation/classical-dance-teacher-portfolio-198096-198110/frontend/src/components/BookingForm.jsx", "pattern": "/^      selectedOption: selectedOption$/", "language": "JavaScript", "kind": "class", "scope": "BookingForm.payload", "scopeKind": "class"}, {"_type": "tag", "name": "status", "path": "/home/kavia/workspace/code-generation/classical-dance-teacher-portfolio-198096-198110/frontend/src/components/BookingForm.jsx", "pattern": "/^          disabled={status === 'submitting'}$/", "language": "JavaScript", "kind": "property", "scope": "disabled", "scopeKind": "class"}, {"_type": "tag", "name": "style", "path": "/home/kavia/workspace/code-generation/classical-dance-teacher-portfolio-198096-198110/frontend/src/components/BookingForm.jsx", "pattern": "/^            style: selectedOption.style,$/", "language": "JavaScript", "kind": "property", "scope": "BookingForm.payload.selectedOption", "scopeKind": "class"}, {"_type": "tag", "name": "time", "path": "/home/kavia/workspace/code-generation/classical-dance-teacher-portfolio-198096-198110/frontend/src/components/BookingForm.jsx", "pattern": "/^            time: selectedOption.time,$/", "language": "JavaScript", "kind": "property", "scope": "BookingForm.payload.selectedOption", "scopeKind": "class"}], "hash": "3b5d691328a4dc17b9e050cd6bcd2e3c", "format-version": 4, "code-base-name": "frontend", "filename": "frontend/src/components/BookingForm.jsx", "fields": [{"name": "rows={4}", "scope": "required", "scopeKind": "class", "description": "unavailable"}, {"name": "background: 'var(--surface)',", "scope": "inputStyle", "scopeKind": "class", "description": "unavailable"}, {"name": "border: '1px solid var(--border)',", "scope": "inputStyle", "scopeKind": "class", "description": "unavailable"}, {"name": "borderRadius: 8,", "scope": "inputStyle", "scopeKind": "class", "description": "unavailable"}, {"name": "color: 'var(--error)',", "scope": "errorStyle", "scopeKind": "class", "description": "unavailable"}, {"name": "color: 'var(--text)',", "scope": "inputStyle", "scopeKind": "class", "description": "unavailable"}, {"name": "day: selectedOption.day,", "scope": "BookingForm.payload.selectedOption", "scopeKind": "class", "description": "unavailable"}, {"name": "duration: selectedOption.duration,", "scope": "BookingForm.payload.selectedOption", "scopeKind": "class", "description": "unavailable"}, {"name": "email: form.email.trim(),", "scope": "BookingForm.payload", "scopeKind": "class", "description": "unavailable"}, {"name": "aria-describedby={errors.email ? 'bf-email-err' : undefined}", "scope": "aria", "scopeKind": "class", "description": "unavailable"}, {"name": "aria-describedby={errors.message ? 'bf-message-err' : undefined}", "scope": "aria", "scopeKind": "class", "description": "unavailable"}, {"name": "aria-describedby={errors.name ? 'bf-name-err' : undefined}", "scope": "aria", "scopeKind": "class", "description": "unavailable"}, {"name": "aria-describedby={errors.phone ? 'bf-phone-err' : undefined}", "scope": "aria", "scopeKind": "class", "description": "unavailable"}, {"name": "aria-describedby={errors.preferredDate ? 'bf-date-err' : undefined}", "scope": "aria", "scopeKind": "class", "description": "unavailable"}, {"name": "fontSize: '0.9rem',", "scope": "errorStyle", "scopeKind": "class", "description": "unavailable"}, {"name": "value={form.company}", "scope": "value", "scopeKind": "class", "description": "unavailable"}, {"name": "value={form.email}", "scope": "value", "scopeKind": "class", "description": "unavailable"}, {"name": "value={form.message}", "scope": "value", "scopeKind": "class", "description": "unavailable"}, {"name": "value={form.name}", "scope": "value", "scopeKind": "class", "description": "unavailable"}, {"name": "value={form.phone}", "scope": "value", "scopeKind": "class", "description": "unavailable"}, {"name": "value={form.preferredDate}", "scope": "value", "scopeKind": "class", "description": "unavailable"}, {"name": "id: selectedOption.id,", "scope": "BookingForm.payload.selectedOption", "scopeKind": "class", "description": "unavailable"}, {"name": "style={inputStyle}", "scope": "required", "scopeKind": "class", "description": "unavailable"}, {"name": "instructor: selectedOption.instructor,", "scope": "BookingForm.payload.selectedOption", "scopeKind": "class", "description": "unavailable"}, {"name": "level: selectedOption.level,", "scope": "BookingForm.payload.selectedOption", "scopeKind": "class", "description": "unavailable"}, {"name": "location: selectedOption.location,", "scope": "BookingForm.payload.selectedOption", "scopeKind": "class", "description": "unavailable"}, {"name": "message: form.message.trim(),", "scope": "BookingForm.payload", "scopeKind": "class", "description": "unavailable"}, {"name": "mode: selectedOption.mode,", "scope": "BookingForm.payload.selectedOption", "scopeKind": "class", "description": "unavailable"}, {"name": "name: form.name.trim(),", "scope": "BookingForm.payload", "scopeKind": "class", "description": "unavailable"}, {"name": "onChange={onChange}", "scope": "onChange", "scopeKind": "class", "description": "unavailable"}, {"name": "onSubmit={onSubmit}", "scope": "BookingForm.onSubmit", "scopeKind": "class", "description": "unavailable"}, {"name": "outlineColor: 'var(--primary)',", "scope": "inputStyle", "scopeKind": "class", "description": "unavailable"}, {"name": "padding: '0.55rem 0.75rem',", "scope": "inputStyle", "scopeKind": "class", "description": "unavailable"}, {"name": "phone: form.phone.trim(),", "scope": "BookingForm.payload", "scopeKind": "class", "description": "unavailable"}, {"name": "preferredDate: form.preferredDate,", "scope": "BookingForm.payload", "scopeKind": "class", "description": "unavailable"}, {"name": "disabled={status === 'submitting'}", "scope": "disabled", "scopeKind": "class", "description": "unavailable"}, {"name": "style: selectedOption.style,", "scope": "BookingForm.payload.selectedOption", "scopeKind": "class", "description": "unavailable"}, {"name": "time: selectedOption.time,", "scope": "BookingForm.payload.selectedOption", "scopeKind": "class", "description": "unavailable"}]}