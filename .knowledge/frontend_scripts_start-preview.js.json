{"is_source_file": true, "format": "JavaScript", "description": "This is a script for building and starting a Vite preview server, handling port availability and process management.", "external_files": ["node:child_process", "node:net", "vite"], "external_methods": ["spawn", "net.createServer"], "published": [], "classes": [], "methods": [{"name": "checkPort(port, host = '0.0.0.0')", "description": "Checks if a specific port on a given host is available by attempting to start a server.", "scope": "", "scopeKind": ""}, {"name": "pickPort()", "description": "Selects an available port, preferring 3000 and falling back to 3001 if necessary.", "scope": "", "scopeKind": ""}, {"name": "run()", "description": "Coordinates the build process with 'npx vite build' and then starts the preview server on the selected port.", "scope": "", "scopeKind": ""}], "calls": ["net.createServer", "spawn('npx', ['vite', 'build'])", "spawn('npx', ['vite', 'preview', '--host', host, '--port', String(port)])", "console.log"], "search-terms": ["Vite preview script", "port checking node script", "build and run vite", "port fallback logic", "start preview server"], "state": 2, "file_id": 1167, "knowledge_revision": 2392, "git_revision": "28613c3cc90a9d036af666318226c37156434c72", "ctags": [{"_type": "tag", "name": "checkPort", "path": "/home/kavia/workspace/code-generation/classical-dance-teacher-portfolio-198096-198110/frontend/scripts/start-preview.js", "pattern": "/^function checkPort(port, host = '0.0.0.0') {$/", "language": "JavaScript", "kind": "function", "signature": "(port, host = '0.0.0.0')"}, {"_type": "tag", "name": "net", "path": "/home/kavia/workspace/code-generation/classical-dance-teacher-portfolio-198096-198110/frontend/scripts/start-preview.js", "pattern": "/^const net = require('node:net');$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "pickPort", "path": "/home/kavia/workspace/code-generation/classical-dance-teacher-portfolio-198096-198110/frontend/scripts/start-preview.js", "pattern": "/^async function pickPort() {$/", "language": "JavaScript", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "run", "path": "/home/kavia/workspace/code-generation/classical-dance-teacher-portfolio-198096-198110/frontend/scripts/start-preview.js", "pattern": "/^async function run() {$/", "language": "JavaScript", "kind": "function", "signature": "()"}], "hash": "4af77ec3b6f458bdae42289f7e4dd31c", "format-version": 4, "code-base-name": "frontend", "filename": "frontend/scripts/start-preview.js", "revision_history": [{"2392": "28613c3cc90a9d036af666318226c37156434c72"}]}