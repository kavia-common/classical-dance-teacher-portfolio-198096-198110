{"is_source_file": true, "format": "TypeScript", "description": "This file implements the FlattenMap function and related utilities to process and flatten source maps, specifically handling sectioned source maps by recursively parsing and merging their mappings into a single, flattened source map.", "external_files": ["./trace-mapping", "./sourcemap-segment", "./types"], "external_methods": ["parse", "presortedDecodedMap", "decodedMappings"], "published": ["FlattenMap"], "classes": [], "methods": [{"name": "function recurse( recurse", "description": "Recursively processes sections within a sectioned source map input, merging their mappings into the accumulative output structures.", "scope": "", "scopeKind": ""}, {"name": "function addSection( addSection", "description": "Adds a section of source map mappings to the output structures, handling nested sectioned maps and merging source information.", "scope": "", "scopeKind": ""}, {"name": "function append<T>(arr: T[], other: T[]) { append", "description": "Utility to append elements from one array into another.", "scope": "", "scopeKind": ""}, {"name": "function getLine<T>(arr: T[][], index: number): T[] { getLine", "description": "Ensures the mapping array has an entry for the specified line index, creating it if necessary.", "scope": "", "scopeKind": ""}], "calls": ["parse", "presortedDecodedMap", "decodedMappings"], "search-terms": ["flatten-map", "source map processing", "sectioned source map", "recursive map parsing", "source map segments", "Map flattening utility"], "state": 2, "file_id": 44, "knowledge_revision": 1266, "git_revision": "ad1ff1730cf5ffe637ecd6d8ab4d3ac026be63d5", "ctags": [{"_type": "tag", "name": "COLUMN", "path": "/home/kavia/workspace/code-generation/classical-dance-teacher-portfolio-198096-198110/frontend/node_modules.bak.1763593000/@jridgewell/trace-mapping/src/flatten-map.ts", "pattern": "/^      const column = cOffset + seg[COLUMN];$/", "language": "TypeScript", "kind": "constant", "scope": "addSection", "scopeKind": "function"}, {"_type": "tag", "name": "FlattenMap", "path": "/home/kavia/workspace/code-generation/classical-dance-teacher-portfolio-198096-198110/frontend/node_modules.bak.1763593000/@jridgewell/trace-mapping/src/flatten-map.ts", "pattern": "/^export const FlattenMap: FlattenMap = function (map, mapUrl) {$/", "language": "TypeScript", "kind": "constant"}, {"_type": "tag", "name": "FlattenMap", "path": "/home/kavia/workspace/code-generation/classical-dance-teacher-portfolio-198096-198110/frontend/node_modules.bak.1763593000/@jridgewell/trace-mapping/src/flatten-map.ts", "pattern": "/^type FlattenMap = {$/", "language": "TypeScript", "kind": "alias"}, {"_type": "tag", "name": "SOURCES_INDEX", "path": "/home/kavia/workspace/code-generation/classical-dance-teacher-portfolio-198096-198110/frontend/node_modules.bak.1763593000/@jridgewell/trace-mapping/src/flatten-map.ts", "pattern": "/^      const sourcesIndex = sourcesOffset + seg[SOURCES_INDEX];$/", "language": "TypeScript", "kind": "constant", "scope": "addSection", "scopeKind": "function"}, {"_type": "tag", "name": "SOURCE_COLUMN", "path": "/home/kavia/workspace/code-generation/classical-dance-teacher-portfolio-198096-198110/frontend/node_modules.bak.1763593000/@jridgewell/trace-mapping/src/flatten-map.ts", "pattern": "/^      const sourceColumn = seg[SOURCE_COLUMN];$/", "language": "TypeScript", "kind": "constant", "scope": "addSection", "scopeKind": "function"}, {"_type": "tag", "name": "SOURCE_LINE", "path": "/home/kavia/workspace/code-generation/classical-dance-teacher-portfolio-198096-198110/frontend/node_modules.bak.1763593000/@jridgewell/trace-mapping/src/flatten-map.ts", "pattern": "/^      const sourceLine = seg[SOURCE_LINE];$/", "language": "TypeScript", "kind": "constant", "scope": "addSection", "scopeKind": "function"}, {"_type": "tag", "name": "addSection", "path": "/home/kavia/workspace/code-generation/classical-dance-teacher-portfolio-198096-198110/frontend/node_modules.bak.1763593000/@jridgewell/trace-mapping/src/flatten-map.ts", "pattern": "/^function addSection($/", "language": "TypeScript", "kind": "function"}, {"_type": "tag", "name": "append", "path": "/home/kavia/workspace/code-generation/classical-dance-teacher-portfolio-198096-198110/frontend/node_modules.bak.1763593000/@jridgewell/trace-mapping/src/flatten-map.ts", "pattern": "/^function append<T>(arr: T[], other: T[]) {$/", "language": "TypeScript", "kind": "function"}, {"_type": "tag", "name": "cOffset", "path": "/home/kavia/workspace/code-generation/classical-dance-teacher-portfolio-198096-198110/frontend/node_modules.bak.1763593000/@jridgewell/trace-mapping/src/flatten-map.ts", "pattern": "/^    const cOffset = i === 0 ? columnOffset : 0;$/", "language": "TypeScript", "kind": "constant", "scope": "addSection", "scopeKind": "function"}, {"_type": "tag", "name": "column", "path": "/home/kavia/workspace/code-generation/classical-dance-teacher-portfolio-198096-198110/frontend/node_modules.bak.1763593000/@jridgewell/trace-mapping/src/flatten-map.ts", "pattern": "/^      const column = cOffset + seg[COLUMN];$/", "language": "TypeScript", "kind": "constant", "scope": "addSection", "scopeKind": "function"}, {"_type": "tag", "name": "columnOffset", "path": "/home/kavia/workspace/code-generation/classical-dance-teacher-portfolio-198096-198110/frontend/node_modules.bak.1763593000/@jridgewell/trace-mapping/src/flatten-map.ts", "pattern": "/^    const cOffset = i === 0 ? columnOffset : 0;$/", "language": "TypeScript", "kind": "constant", "scope": "addSection", "scopeKind": "function"}, {"_type": "tag", "name": "decoded", "path": "/home/kavia/workspace/code-generation/classical-dance-teacher-portfolio-198096-198110/frontend/node_modules.bak.1763593000/@jridgewell/trace-mapping/src/flatten-map.ts", "pattern": "/^  const decoded = decodedMappings(map);$/", "language": "TypeScript", "kind": "constant", "scope": "addSection", "scopeKind": "function"}, {"_type": "tag", "name": "getLine", "path": "/home/kavia/workspace/code-generation/classical-dance-teacher-portfolio-198096-198110/frontend/node_modules.bak.1763593000/@jridgewell/trace-mapping/src/flatten-map.ts", "pattern": "/^function getLine<T>(arr: T[][], index: number): T[] {$/", "language": "TypeScript", "kind": "function"}, {"_type": "tag", "name": "i", "path": "/home/kavia/workspace/code-generation/classical-dance-teacher-portfolio-198096-198110/frontend/node_modules.bak.1763593000/@jridgewell/trace-mapping/src/flatten-map.ts", "pattern": "/^      const nextOffset = sections[i + 1].offset;$/", "language": "TypeScript", "kind": "constant", "scope": "recurse", "scopeKind": "function"}, {"_type": "tag", "name": "i", "path": "/home/kavia/workspace/code-generation/classical-dance-teacher-portfolio-198096-198110/frontend/node_modules.bak.1763593000/@jridgewell/trace-mapping/src/flatten-map.ts", "pattern": "/^    const line = decoded[i];$/", "language": "TypeScript", "kind": "constant", "scope": "addSection", "scopeKind": "function"}, {"_type": "tag", "name": "i", "path": "/home/kavia/workspace/code-generation/classical-dance-teacher-portfolio-198096-198110/frontend/node_modules.bak.1763593000/@jridgewell/trace-mapping/src/flatten-map.ts", "pattern": "/^    const { map, offset } = sections[i];$/", "language": "TypeScript", "kind": "constant", "scope": "recurse", "scopeKind": "function"}, {"_type": "tag", "name": "ignoreList", "path": "/home/kavia/workspace/code-generation/classical-dance-teacher-portfolio-198096-198110/frontend/node_modules.bak.1763593000/@jridgewell/trace-mapping/src/flatten-map.ts", "pattern": "/^    ignoreList,$/", "language": "TypeScript", "kind": "constant"}, {"_type": "tag", "name": "ignoreList", "path": "/home/kavia/workspace/code-generation/classical-dance-teacher-portfolio-198096-198110/frontend/node_modules.bak.1763593000/@jridgewell/trace-mapping/src/flatten-map.ts", "pattern": "/^  const ignoreList: number[] = [];$/", "language": "TypeScript", "kind": "constant"}, {"_type": "tag", "name": "ignoreList", "path": "/home/kavia/workspace/code-generation/classical-dance-teacher-portfolio-198096-198110/frontend/node_modules.bak.1763593000/@jridgewell/trace-mapping/src/flatten-map.ts", "pattern": "/^  const { resolvedSources, sourcesContent: contents, ignoreList: ignores } = map;$/", "language": "TypeScript", "kind": "constant", "scope": "addSection", "scopeKind": "function"}, {"_type": "tag", "name": "j", "path": "/home/kavia/workspace/code-generation/classical-dance-teacher-portfolio-198096-198110/frontend/node_modules.bak.1763593000/@jridgewell/trace-mapping/src/flatten-map.ts", "pattern": "/^      const seg = line[j];$/", "language": "TypeScript", "kind": "constant", "scope": "addSection", "scopeKind": "function"}, {"_type": "tag", "name": "joined", "path": "/home/kavia/workspace/code-generation/classical-dance-teacher-portfolio-198096-198110/frontend/node_modules.bak.1763593000/@jridgewell/trace-mapping/src/flatten-map.ts", "pattern": "/^  const joined: DecodedSourceMap = {$/", "language": "TypeScript", "kind": "constant"}, {"_type": "tag", "name": "line", "path": "/home/kavia/workspace/code-generation/classical-dance-teacher-portfolio-198096-198110/frontend/node_modules.bak.1763593000/@jridgewell/trace-mapping/src/flatten-map.ts", "pattern": "/^    const line = decoded[i];$/", "language": "TypeScript", "kind": "constant", "scope": "addSection", "scopeKind": "function"}, {"_type": "tag", "name": "lineI", "path": "/home/kavia/workspace/code-generation/classical-dance-teacher-portfolio-198096-198110/frontend/node_modules.bak.1763593000/@jridgewell/trace-mapping/src/flatten-map.ts", "pattern": "/^    const lineI = lineOffset + i;$/", "language": "TypeScript", "kind": "constant", "scope": "addSection", "scopeKind": "function"}, {"_type": "tag", "name": "map", "path": "/home/kavia/workspace/code-generation/classical-dance-teacher-portfolio-198096-198110/frontend/node_modules.bak.1763593000/@jridgewell/trace-mapping/src/flatten-map.ts", "pattern": "/^    const { map, offset } = sections[i];$/", "language": "TypeScript", "kind": "constant", "scope": "recurse", "scopeKind": "function"}, {"_type": "tag", "name": "map", "path": "/home/kavia/workspace/code-generation/classical-dance-teacher-portfolio-198096-198110/frontend/node_modules.bak.1763593000/@jridgewell/trace-mapping/src/flatten-map.ts", "pattern": "/^  const map = new TraceMap(parsed, mapUrl);$/", "language": "TypeScript", "kind": "constant", "scope": "addSection", "scopeKind": "function"}, {"_type": "tag", "name": "mappings", "path": "/home/kavia/workspace/code-generation/classical-dance-teacher-portfolio-198096-198110/frontend/node_modules.bak.1763593000/@jridgewell/trace-mapping/src/flatten-map.ts", "pattern": "/^    mappings,$/", "language": "TypeScript", "kind": "constant"}, {"_type": "tag", "name": "mappings", "path": "/home/kavia/workspace/code-generation/classical-dance-teacher-portfolio-198096-198110/frontend/node_modules.bak.1763593000/@jridgewell/trace-mapping/src/flatten-map.ts", "pattern": "/^  const mappings: SourceMapSegment[][] = [];$/", "language": "TypeScript", "kind": "constant"}, {"_type": "tag", "name": "names", "path": "/home/kavia/workspace/code-generation/classical-dance-teacher-portfolio-198096-198110/frontend/node_modules.bak.1763593000/@jridgewell/trace-mapping/src/flatten-map.ts", "pattern": "/^    names,$/", "language": "TypeScript", "kind": "constant"}, {"_type": "tag", "name": "names", "path": "/home/kavia/workspace/code-generation/classical-dance-teacher-portfolio-198096-198110/frontend/node_modules.bak.1763593000/@jridgewell/trace-mapping/src/flatten-map.ts", "pattern": "/^  const names: string[] = [];$/", "language": "TypeScript", "kind": "constant"}, {"_type": "tag", "name": "namesOffset", "path": "/home/kavia/workspace/code-generation/classical-dance-teacher-portfolio-198096-198110/frontend/node_modules.bak.1763593000/@jridgewell/trace-mapping/src/flatten-map.ts", "pattern": "/^  const namesOffset = names.length;$/", "language": "TypeScript", "kind": "constant", "scope": "addSection", "scopeKind": "function"}, {"_type": "tag", "name": "nextOffset", "path": "/home/kavia/workspace/code-generation/classical-dance-teacher-portfolio-198096-198110/frontend/node_modules.bak.1763593000/@jridgewell/trace-mapping/src/flatten-map.ts", "pattern": "/^      const nextOffset = sections[i + 1].offset;$/", "language": "TypeScript", "kind": "constant", "scope": "recurse", "scopeKind": "function"}, {"_type": "tag", "name": "offset", "path": "/home/kavia/workspace/code-generation/classical-dance-teacher-portfolio-198096-198110/frontend/node_modules.bak.1763593000/@jridgewell/trace-mapping/src/flatten-map.ts", "pattern": "/^    const { map, offset } = sections[i];$/", "language": "TypeScript", "kind": "constant", "scope": "recurse", "scopeKind": "function"}, {"_type": "tag", "name": "out", "path": "/home/kavia/workspace/code-generation/classical-dance-teacher-portfolio-198096-198110/frontend/node_modules.bak.1763593000/@jridgewell/trace-mapping/src/flatten-map.ts", "pattern": "/^    const out = getLine(mappings, lineI);$/", "language": "TypeScript", "kind": "constant", "scope": "addSection", "scopeKind": "function"}, {"_type": "tag", "name": "parsed", "path": "/home/kavia/workspace/code-generation/classical-dance-teacher-portfolio-198096-198110/frontend/node_modules.bak.1763593000/@jridgewell/trace-mapping/src/flatten-map.ts", "pattern": "/^  const parsed = parse(input);$/", "language": "TypeScript", "kind": "constant", "scope": "addSection", "scopeKind": "function"}, {"_type": "tag", "name": "recurse", "path": "/home/kavia/workspace/code-generation/classical-dance-teacher-portfolio-198096-198110/frontend/node_modules.bak.1763593000/@jridgewell/trace-mapping/src/flatten-map.ts", "pattern": "/^function recurse($/", "language": "TypeScript", "kind": "function"}, {"_type": "tag", "name": "resolvedSources", "path": "/home/kavia/workspace/code-generation/classical-dance-teacher-portfolio-198096-198110/frontend/node_modules.bak.1763593000/@jridgewell/trace-mapping/src/flatten-map.ts", "pattern": "/^  const { resolvedSources, sourcesContent: contents, ignoreList: ignores } = map;$/", "language": "TypeScript", "kind": "constant", "scope": "addSection", "scopeKind": "function"}, {"_type": "tag", "name": "sections", "path": "/home/kavia/workspace/code-generation/classical-dance-teacher-portfolio-198096-198110/frontend/node_modules.bak.1763593000/@jridgewell/trace-mapping/src/flatten-map.ts", "pattern": "/^  const { sections } = input;$/", "language": "TypeScript", "kind": "constant", "scope": "recurse", "scopeKind": "function"}, {"_type": "tag", "name": "seg", "path": "/home/kavia/workspace/code-generation/classical-dance-teacher-portfolio-198096-198110/frontend/node_modules.bak.1763593000/@jridgewell/trace-mapping/src/flatten-map.ts", "pattern": "/^      const seg = line[j];$/", "language": "TypeScript", "kind": "constant", "scope": "addSection", "scopeKind": "function"}, {"_type": "tag", "name": "sourceColumn", "path": "/home/kavia/workspace/code-generation/classical-dance-teacher-portfolio-198096-198110/frontend/node_modules.bak.1763593000/@jridgewell/trace-mapping/src/flatten-map.ts", "pattern": "/^      const sourceColumn = seg[SOURCE_COLUMN];$/", "language": "TypeScript", "kind": "constant", "scope": "addSection", "scopeKind": "function"}, {"_type": "tag", "name": "sourceLine", "path": "/home/kavia/workspace/code-generation/classical-dance-teacher-portfolio-198096-198110/frontend/node_modules.bak.1763593000/@jridgewell/trace-mapping/src/flatten-map.ts", "pattern": "/^      const sourceLine = seg[SOURCE_LINE];$/", "language": "TypeScript", "kind": "constant", "scope": "addSection", "scopeKind": "function"}, {"_type": "tag", "name": "sources", "path": "/home/kavia/workspace/code-generation/classical-dance-teacher-portfolio-198096-198110/frontend/node_modules.bak.1763593000/@jridgewell/trace-mapping/src/flatten-map.ts", "pattern": "/^    sources,$/", "language": "TypeScript", "kind": "constant"}, {"_type": "tag", "name": "sources", "path": "/home/kavia/workspace/code-generation/classical-dance-teacher-portfolio-198096-198110/frontend/node_modules.bak.1763593000/@jridgewell/trace-mapping/src/flatten-map.ts", "pattern": "/^  const sources: string[] = [];$/", "language": "TypeScript", "kind": "constant"}, {"_type": "tag", "name": "sourcesContent", "path": "/home/kavia/workspace/code-generation/classical-dance-teacher-portfolio-198096-198110/frontend/node_modules.bak.1763593000/@jridgewell/trace-mapping/src/flatten-map.ts", "pattern": "/^    sourcesContent,$/", "language": "TypeScript", "kind": "constant"}, {"_type": "tag", "name": "sourcesContent", "path": "/home/kavia/workspace/code-generation/classical-dance-teacher-portfolio-198096-198110/frontend/node_modules.bak.1763593000/@jridgewell/trace-mapping/src/flatten-map.ts", "pattern": "/^  const sourcesContent: (string | null)[] = [];$/", "language": "TypeScript", "kind": "constant"}, {"_type": "tag", "name": "sourcesContent", "path": "/home/kavia/workspace/code-generation/classical-dance-teacher-portfolio-198096-198110/frontend/node_modules.bak.1763593000/@jridgewell/trace-mapping/src/flatten-map.ts", "pattern": "/^  const { resolvedSources, sourcesContent: contents, ignoreList: ignores } = map;$/", "language": "TypeScript", "kind": "constant", "scope": "addSection", "scopeKind": "function"}, {"_type": "tag", "name": "sourcesIndex", "path": "/home/kavia/workspace/code-generation/classical-dance-teacher-portfolio-198096-198110/frontend/node_modules.bak.1763593000/@jridgewell/trace-mapping/src/flatten-map.ts", "pattern": "/^      const sourcesIndex = sourcesOffset + seg[SOURCES_INDEX];$/", "language": "TypeScript", "kind": "constant", "scope": "addSection", "scopeKind": "function"}, {"_type": "tag", "name": "sourcesOffset", "path": "/home/kavia/workspace/code-generation/classical-dance-teacher-portfolio-198096-198110/frontend/node_modules.bak.1763593000/@jridgewell/trace-mapping/src/flatten-map.ts", "pattern": "/^  const sourcesOffset = sources.length;$/", "language": "TypeScript", "kind": "constant", "scope": "addSection", "scopeKind": "function"}], "hash": "e60ef8d6e13cbd415374e6f55017391c", "format-version": 4, "code-base-name": "frontend", "filename": "frontend/node_modules.bak.1763593000/@jridgewell/trace-mapping/src/flatten-map.ts", "revision_history": [{"1266": "ad1ff1730cf5ffe637ecd6d8ab4d3ac026be63d5"}]}