{"is_source_file": true, "format": "TypeScript", "description": "This file contains code for flattening source maps, including functions to parse, recurse through, and assemble source map segments into a flattened source map representation. It implements logic for handling sectioned source maps, decoding mappings, and maintaining references to sources, content, and names.", "external_files": ["./trace-mapping", "./sourcemap-segment", "./types"], "external_methods": ["parse", "presortedDecodedMap", "decodedMappings"], "published": ["FlattenMap"], "classes": [{"name": "TraceMap", "description": "Represents a source map object, providing methods for mapping between generated and original sources."}], "methods": [{"name": "FlattenMap", "description": "Constructs a flattened source map from a possibly sectioned source map input, handling nested sections recursively."}, {"name": "function recurse( recurse", "description": "Recursively processes sections of a sectioned source map input to build the flattened map data structures.", "scope": "", "scopeKind": ""}, {"name": "function addSection( addSection", "description": "Adds a section of source map data into the flattened map, handling nested sections and decoding mappings.", "scope": "", "scopeKind": ""}, {"name": "function append<T>(arr: T[], other: T[]) { append", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "function getLine<T>(arr: T[][], index: number): T[] { getLine", "scope": "", "scopeKind": "", "description": "unavailable"}], "calls": ["parse", "presortedDecodedMap", "decodedMappings", "recurse", "addSection"], "search-terms": ["flattenMap", "sectionedSourceMap", "source map decoding", "nested sections", "source map segments"], "state": 2, "file_id": 105, "knowledge_revision": 1357, "git_revision": "ad1ff1730cf5ffe637ecd6d8ab4d3ac026be63d5", "ctags": [{"_type": "tag", "name": "COLUMN", "path": "/home/kavia/workspace/code-generation/classical-dance-teacher-portfolio-198096-198110/frontend/node_modules.bak.1763593000/@jridgewell/trace-mapping/src/flatten-map.ts", "pattern": "/^      const column = cOffset + seg[COLUMN];$/", "language": "TypeScript", "kind": "constant", "scope": "addSection", "scopeKind": "function"}, {"_type": "tag", "name": "FlattenMap", "path": "/home/kavia/workspace/code-generation/classical-dance-teacher-portfolio-198096-198110/frontend/node_modules.bak.1763593000/@jridgewell/trace-mapping/src/flatten-map.ts", "pattern": "/^export const FlattenMap: FlattenMap = function (map, mapUrl) {$/", "language": "TypeScript", "kind": "constant"}, {"_type": "tag", "name": "FlattenMap", "path": "/home/kavia/workspace/code-generation/classical-dance-teacher-portfolio-198096-198110/frontend/node_modules.bak.1763593000/@jridgewell/trace-mapping/src/flatten-map.ts", "pattern": "/^type FlattenMap = {$/", "language": "TypeScript", "kind": "alias"}, {"_type": "tag", "name": "SOURCES_INDEX", "path": "/home/kavia/workspace/code-generation/classical-dance-teacher-portfolio-198096-198110/frontend/node_modules.bak.1763593000/@jridgewell/trace-mapping/src/flatten-map.ts", "pattern": "/^      const sourcesIndex = sourcesOffset + seg[SOURCES_INDEX];$/", "language": "TypeScript", "kind": "constant", "scope": "addSection", "scopeKind": "function"}, {"_type": "tag", "name": "SOURCE_COLUMN", "path": "/home/kavia/workspace/code-generation/classical-dance-teacher-portfolio-198096-198110/frontend/node_modules.bak.1763593000/@jridgewell/trace-mapping/src/flatten-map.ts", "pattern": "/^      const sourceColumn = seg[SOURCE_COLUMN];$/", "language": "TypeScript", "kind": "constant", "scope": "addSection", "scopeKind": "function"}, {"_type": "tag", "name": "SOURCE_LINE", "path": "/home/kavia/workspace/code-generation/classical-dance-teacher-portfolio-198096-198110/frontend/node_modules.bak.1763593000/@jridgewell/trace-mapping/src/flatten-map.ts", "pattern": "/^      const sourceLine = seg[SOURCE_LINE];$/", "language": "TypeScript", "kind": "constant", "scope": "addSection", "scopeKind": "function"}, {"_type": "tag", "name": "addSection", "path": "/home/kavia/workspace/code-generation/classical-dance-teacher-portfolio-198096-198110/frontend/node_modules.bak.1763593000/@jridgewell/trace-mapping/src/flatten-map.ts", "pattern": "/^function addSection($/", "language": "TypeScript", "kind": "function"}, {"_type": "tag", "name": "append", "path": "/home/kavia/workspace/code-generation/classical-dance-teacher-portfolio-198096-198110/frontend/node_modules.bak.1763593000/@jridgewell/trace-mapping/src/flatten-map.ts", "pattern": "/^function append<T>(arr: T[], other: T[]) {$/", "language": "TypeScript", "kind": "function"}, {"_type": "tag", "name": "cOffset", "path": "/home/kavia/workspace/code-generation/classical-dance-teacher-portfolio-198096-198110/frontend/node_modules.bak.1763593000/@jridgewell/trace-mapping/src/flatten-map.ts", "pattern": "/^    const cOffset = i === 0 ? columnOffset : 0;$/", "language": "TypeScript", "kind": "constant", "scope": "addSection", "scopeKind": "function"}, {"_type": "tag", "name": "column", "path": "/home/kavia/workspace/code-generation/classical-dance-teacher-portfolio-198096-198110/frontend/node_modules.bak.1763593000/@jridgewell/trace-mapping/src/flatten-map.ts", "pattern": "/^      const column = cOffset + seg[COLUMN];$/", "language": "TypeScript", "kind": "constant", "scope": "addSection", "scopeKind": "function"}, {"_type": "tag", "name": "columnOffset", "path": "/home/kavia/workspace/code-generation/classical-dance-teacher-portfolio-198096-198110/frontend/node_modules.bak.1763593000/@jridgewell/trace-mapping/src/flatten-map.ts", "pattern": "/^    const cOffset = i === 0 ? columnOffset : 0;$/", "language": "TypeScript", "kind": "constant", "scope": "addSection", "scopeKind": "function"}, {"_type": "tag", "name": "decoded", "path": "/home/kavia/workspace/code-generation/classical-dance-teacher-portfolio-198096-198110/frontend/node_modules.bak.1763593000/@jridgewell/trace-mapping/src/flatten-map.ts", "pattern": "/^  const decoded = decodedMappings(map);$/", "language": "TypeScript", "kind": "constant", "scope": "addSection", "scopeKind": "function"}, {"_type": "tag", "name": "getLine", "path": "/home/kavia/workspace/code-generation/classical-dance-teacher-portfolio-198096-198110/frontend/node_modules.bak.1763593000/@jridgewell/trace-mapping/src/flatten-map.ts", "pattern": "/^function getLine<T>(arr: T[][], index: number): T[] {$/", "language": "TypeScript", "kind": "function"}, {"_type": "tag", "name": "i", "path": "/home/kavia/workspace/code-generation/classical-dance-teacher-portfolio-198096-198110/frontend/node_modules.bak.1763593000/@jridgewell/trace-mapping/src/flatten-map.ts", "pattern": "/^      const nextOffset = sections[i + 1].offset;$/", "language": "TypeScript", "kind": "constant", "scope": "recurse", "scopeKind": "function"}, {"_type": "tag", "name": "i", "path": "/home/kavia/workspace/code-generation/classical-dance-teacher-portfolio-198096-198110/frontend/node_modules.bak.1763593000/@jridgewell/trace-mapping/src/flatten-map.ts", "pattern": "/^    const line = decoded[i];$/", "language": "TypeScript", "kind": "constant", "scope": "addSection", "scopeKind": "function"}, {"_type": "tag", "name": "i", "path": "/home/kavia/workspace/code-generation/classical-dance-teacher-portfolio-198096-198110/frontend/node_modules.bak.1763593000/@jridgewell/trace-mapping/src/flatten-map.ts", "pattern": "/^    const { map, offset } = sections[i];$/", "language": "TypeScript", "kind": "constant", "scope": "recurse", "scopeKind": "function"}, {"_type": "tag", "name": "ignoreList", "path": "/home/kavia/workspace/code-generation/classical-dance-teacher-portfolio-198096-198110/frontend/node_modules.bak.1763593000/@jridgewell/trace-mapping/src/flatten-map.ts", "pattern": "/^    ignoreList,$/", "language": "TypeScript", "kind": "constant"}, {"_type": "tag", "name": "ignoreList", "path": "/home/kavia/workspace/code-generation/classical-dance-teacher-portfolio-198096-198110/frontend/node_modules.bak.1763593000/@jridgewell/trace-mapping/src/flatten-map.ts", "pattern": "/^  const ignoreList: number[] = [];$/", "language": "TypeScript", "kind": "constant"}, {"_type": "tag", "name": "ignoreList", "path": "/home/kavia/workspace/code-generation/classical-dance-teacher-portfolio-198096-198110/frontend/node_modules.bak.1763593000/@jridgewell/trace-mapping/src/flatten-map.ts", "pattern": "/^  const { resolvedSources, sourcesContent: contents, ignoreList: ignores } = map;$/", "language": "TypeScript", "kind": "constant", "scope": "addSection", "scopeKind": "function"}, {"_type": "tag", "name": "j", "path": "/home/kavia/workspace/code-generation/classical-dance-teacher-portfolio-198096-198110/frontend/node_modules.bak.1763593000/@jridgewell/trace-mapping/src/flatten-map.ts", "pattern": "/^      const seg = line[j];$/", "language": "TypeScript", "kind": "constant", "scope": "addSection", "scopeKind": "function"}, {"_type": "tag", "name": "joined", "path": "/home/kavia/workspace/code-generation/classical-dance-teacher-portfolio-198096-198110/frontend/node_modules.bak.1763593000/@jridgewell/trace-mapping/src/flatten-map.ts", "pattern": "/^  const joined: DecodedSourceMap = {$/", "language": "TypeScript", "kind": "constant"}, {"_type": "tag", "name": "line", "path": "/home/kavia/workspace/code-generation/classical-dance-teacher-portfolio-198096-198110/frontend/node_modules.bak.1763593000/@jridgewell/trace-mapping/src/flatten-map.ts", "pattern": "/^    const line = decoded[i];$/", "language": "TypeScript", "kind": "constant", "scope": "addSection", "scopeKind": "function"}, {"_type": "tag", "name": "lineI", "path": "/home/kavia/workspace/code-generation/classical-dance-teacher-portfolio-198096-198110/frontend/node_modules.bak.1763593000/@jridgewell/trace-mapping/src/flatten-map.ts", "pattern": "/^    const lineI = lineOffset + i;$/", "language": "TypeScript", "kind": "constant", "scope": "addSection", "scopeKind": "function"}, {"_type": "tag", "name": "map", "path": "/home/kavia/workspace/code-generation/classical-dance-teacher-portfolio-198096-198110/frontend/node_modules.bak.1763593000/@jridgewell/trace-mapping/src/flatten-map.ts", "pattern": "/^    const { map, offset } = sections[i];$/", "language": "TypeScript", "kind": "constant", "scope": "recurse", "scopeKind": "function"}, {"_type": "tag", "name": "map", "path": "/home/kavia/workspace/code-generation/classical-dance-teacher-portfolio-198096-198110/frontend/node_modules.bak.1763593000/@jridgewell/trace-mapping/src/flatten-map.ts", "pattern": "/^  const map = new TraceMap(parsed, mapUrl);$/", "language": "TypeScript", "kind": "constant", "scope": "addSection", "scopeKind": "function"}, {"_type": "tag", "name": "mappings", "path": "/home/kavia/workspace/code-generation/classical-dance-teacher-portfolio-198096-198110/frontend/node_modules.bak.1763593000/@jridgewell/trace-mapping/src/flatten-map.ts", "pattern": "/^    mappings,$/", "language": "TypeScript", "kind": "constant"}, {"_type": "tag", "name": "mappings", "path": "/home/kavia/workspace/code-generation/classical-dance-teacher-portfolio-198096-198110/frontend/node_modules.bak.1763593000/@jridgewell/trace-mapping/src/flatten-map.ts", "pattern": "/^  const mappings: SourceMapSegment[][] = [];$/", "language": "TypeScript", "kind": "constant"}, {"_type": "tag", "name": "names", "path": "/home/kavia/workspace/code-generation/classical-dance-teacher-portfolio-198096-198110/frontend/node_modules.bak.1763593000/@jridgewell/trace-mapping/src/flatten-map.ts", "pattern": "/^    names,$/", "language": "TypeScript", "kind": "constant"}, {"_type": "tag", "name": "names", "path": "/home/kavia/workspace/code-generation/classical-dance-teacher-portfolio-198096-198110/frontend/node_modules.bak.1763593000/@jridgewell/trace-mapping/src/flatten-map.ts", "pattern": "/^  const names: string[] = [];$/", "language": "TypeScript", "kind": "constant"}, {"_type": "tag", "name": "namesOffset", "path": "/home/kavia/workspace/code-generation/classical-dance-teacher-portfolio-198096-198110/frontend/node_modules.bak.1763593000/@jridgewell/trace-mapping/src/flatten-map.ts", "pattern": "/^  const namesOffset = names.length;$/", "language": "TypeScript", "kind": "constant", "scope": "addSection", "scopeKind": "function"}, {"_type": "tag", "name": "nextOffset", "path": "/home/kavia/workspace/code-generation/classical-dance-teacher-portfolio-198096-198110/frontend/node_modules.bak.1763593000/@jridgewell/trace-mapping/src/flatten-map.ts", "pattern": "/^      const nextOffset = sections[i + 1].offset;$/", "language": "TypeScript", "kind": "constant", "scope": "recurse", "scopeKind": "function"}, {"_type": "tag", "name": "offset", "path": "/home/kavia/workspace/code-generation/classical-dance-teacher-portfolio-198096-198110/frontend/node_modules.bak.1763593000/@jridgewell/trace-mapping/src/flatten-map.ts", "pattern": "/^    const { map, offset } = sections[i];$/", "language": "TypeScript", "kind": "constant", "scope": "recurse", "scopeKind": "function"}, {"_type": "tag", "name": "out", "path": "/home/kavia/workspace/code-generation/classical-dance-teacher-portfolio-198096-198110/frontend/node_modules.bak.1763593000/@jridgewell/trace-mapping/src/flatten-map.ts", "pattern": "/^    const out = getLine(mappings, lineI);$/", "language": "TypeScript", "kind": "constant", "scope": "addSection", "scopeKind": "function"}, {"_type": "tag", "name": "parsed", "path": "/home/kavia/workspace/code-generation/classical-dance-teacher-portfolio-198096-198110/frontend/node_modules.bak.1763593000/@jridgewell/trace-mapping/src/flatten-map.ts", "pattern": "/^  const parsed = parse(input);$/", "language": "TypeScript", "kind": "constant", "scope": "addSection", "scopeKind": "function"}, {"_type": "tag", "name": "recurse", "path": "/home/kavia/workspace/code-generation/classical-dance-teacher-portfolio-198096-198110/frontend/node_modules.bak.1763593000/@jridgewell/trace-mapping/src/flatten-map.ts", "pattern": "/^function recurse($/", "language": "TypeScript", "kind": "function"}, {"_type": "tag", "name": "resolvedSources", "path": "/home/kavia/workspace/code-generation/classical-dance-teacher-portfolio-198096-198110/frontend/node_modules.bak.1763593000/@jridgewell/trace-mapping/src/flatten-map.ts", "pattern": "/^  const { resolvedSources, sourcesContent: contents, ignoreList: ignores } = map;$/", "language": "TypeScript", "kind": "constant", "scope": "addSection", "scopeKind": "function"}, {"_type": "tag", "name": "sections", "path": "/home/kavia/workspace/code-generation/classical-dance-teacher-portfolio-198096-198110/frontend/node_modules.bak.1763593000/@jridgewell/trace-mapping/src/flatten-map.ts", "pattern": "/^  const { sections } = input;$/", "language": "TypeScript", "kind": "constant", "scope": "recurse", "scopeKind": "function"}, {"_type": "tag", "name": "seg", "path": "/home/kavia/workspace/code-generation/classical-dance-teacher-portfolio-198096-198110/frontend/node_modules.bak.1763593000/@jridgewell/trace-mapping/src/flatten-map.ts", "pattern": "/^      const seg = line[j];$/", "language": "TypeScript", "kind": "constant", "scope": "addSection", "scopeKind": "function"}, {"_type": "tag", "name": "sourceColumn", "path": "/home/kavia/workspace/code-generation/classical-dance-teacher-portfolio-198096-198110/frontend/node_modules.bak.1763593000/@jridgewell/trace-mapping/src/flatten-map.ts", "pattern": "/^      const sourceColumn = seg[SOURCE_COLUMN];$/", "language": "TypeScript", "kind": "constant", "scope": "addSection", "scopeKind": "function"}, {"_type": "tag", "name": "sourceLine", "path": "/home/kavia/workspace/code-generation/classical-dance-teacher-portfolio-198096-198110/frontend/node_modules.bak.1763593000/@jridgewell/trace-mapping/src/flatten-map.ts", "pattern": "/^      const sourceLine = seg[SOURCE_LINE];$/", "language": "TypeScript", "kind": "constant", "scope": "addSection", "scopeKind": "function"}, {"_type": "tag", "name": "sources", "path": "/home/kavia/workspace/code-generation/classical-dance-teacher-portfolio-198096-198110/frontend/node_modules.bak.1763593000/@jridgewell/trace-mapping/src/flatten-map.ts", "pattern": "/^    sources,$/", "language": "TypeScript", "kind": "constant"}, {"_type": "tag", "name": "sources", "path": "/home/kavia/workspace/code-generation/classical-dance-teacher-portfolio-198096-198110/frontend/node_modules.bak.1763593000/@jridgewell/trace-mapping/src/flatten-map.ts", "pattern": "/^  const sources: string[] = [];$/", "language": "TypeScript", "kind": "constant"}, {"_type": "tag", "name": "sourcesContent", "path": "/home/kavia/workspace/code-generation/classical-dance-teacher-portfolio-198096-198110/frontend/node_modules.bak.1763593000/@jridgewell/trace-mapping/src/flatten-map.ts", "pattern": "/^    sourcesContent,$/", "language": "TypeScript", "kind": "constant"}, {"_type": "tag", "name": "sourcesContent", "path": "/home/kavia/workspace/code-generation/classical-dance-teacher-portfolio-198096-198110/frontend/node_modules.bak.1763593000/@jridgewell/trace-mapping/src/flatten-map.ts", "pattern": "/^  const sourcesContent: (string | null)[] = [];$/", "language": "TypeScript", "kind": "constant"}, {"_type": "tag", "name": "sourcesContent", "path": "/home/kavia/workspace/code-generation/classical-dance-teacher-portfolio-198096-198110/frontend/node_modules.bak.1763593000/@jridgewell/trace-mapping/src/flatten-map.ts", "pattern": "/^  const { resolvedSources, sourcesContent: contents, ignoreList: ignores } = map;$/", "language": "TypeScript", "kind": "constant", "scope": "addSection", "scopeKind": "function"}, {"_type": "tag", "name": "sourcesIndex", "path": "/home/kavia/workspace/code-generation/classical-dance-teacher-portfolio-198096-198110/frontend/node_modules.bak.1763593000/@jridgewell/trace-mapping/src/flatten-map.ts", "pattern": "/^      const sourcesIndex = sourcesOffset + seg[SOURCES_INDEX];$/", "language": "TypeScript", "kind": "constant", "scope": "addSection", "scopeKind": "function"}, {"_type": "tag", "name": "sourcesOffset", "path": "/home/kavia/workspace/code-generation/classical-dance-teacher-portfolio-198096-198110/frontend/node_modules.bak.1763593000/@jridgewell/trace-mapping/src/flatten-map.ts", "pattern": "/^  const sourcesOffset = sources.length;$/", "language": "TypeScript", "kind": "constant", "scope": "addSection", "scopeKind": "function"}], "hash": "e60ef8d6e13cbd415374e6f55017391c", "format-version": 4, "code-base-name": "frontend", "filename": "frontend/node_modules.bak.1763593000/@jridgewell/trace-mapping/src/flatten-map.ts", "revision_history": [{"1357": "ad1ff1730cf5ffe637ecd6d8ab4d3ac026be63d5"}]}